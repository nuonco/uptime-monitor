#:schema https://api.nuon.co/v1/general/config-schema?type=terraform
name              = "rds"
type              = "terraform_module"
terraform_version = "1.14.3"

[public_repo]
repo      = "nuonco/uptime-monitor"
directory = "nuon/uptime-monitor/components/1-rds"
branch    = "main"

[vars]
region                  = "{{ .nuon.install_stack.outputs.region }}"
install_id              = "{{ .nuon.install.id }}"
vpc_id                  = "{{ .nuon.install.sandbox.outputs.vpc.id }}"
private_subnet_ids      = "{{ index .nuon.install.sandbox.outputs.vpc.private_subnet_ids 0}},{{ index .nuon.install.sandbox.outputs.vpc.private_subnet_ids 1 }},{{ index .nuon.install.sandbox.outputs.vpc.private_subnet_ids 2 }}"
node_security_group_id  = "{{ .nuon.install.sandbox.outputs.cluster.node_security_group_id }}"
